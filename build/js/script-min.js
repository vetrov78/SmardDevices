"use strict";var callFormTemplate=document.querySelector("#call-form").content.querySelector(".call-form__container"),callRequestButton=document.querySelector("#call-request-button"),windowExistFlag=!1;callRequestButton.addEventListener("click",function(){if(!windowExistFlag){var e=callFormTemplate.cloneNode(!0);document.body.appendChild(e);var o=document.querySelector(".call-form__close-icon");windowExistFlag=!0}var s=function(o){o.preventDefault(),e.remove(),document.removeEventListener("keydown",t),windowExistFlag=!1},t=function(e){(function(e){return"Escape"===e.key||"Esc"===e.key})(e)&&s(e)};document.addEventListener("keydown",t),o.addEventListener("click",s)});var maBlock=document.querySelector(".page-footer__menu-address-wrapper");maBlock.classList.remove("no-js");var menuBlock=document.querySelector(".page-footer__menu-block");menuBlock.classList.add("page-footer__menu-block--closed");var addressBlock=document.querySelector(".page-footer__address-block");addressBlock.classList.add("page-footer__address-block--closed");var menuToggle=document.querySelector(".page-footer__menu-toggle");menuToggle.addEventListener("click",function(){menuBlock.classList.contains("page-footer__menu-block--closed")?(menuBlock.classList.remove("page-footer__menu-block--closed"),menuBlock.classList.add("page-footer__menu-block--opened"),addressBlock.classList.contains("page-footer__address-block--opened")&&(addressBlock.classList.add("page-footer__address-block--closed"),addressBlock.classList.remove("page-footer__address-block--opened"))):(menuBlock.classList.add("page-footer__menu-block--closed"),menuBlock.classList.remove("page-footer__menu-block--opened"))});var addressToggle=document.querySelector(".page-footer__address-toggle");function applyDataMask(e){var o=e.dataset.mask.split("");function s(e){return function(e){var s=e.length<3;return o.map(function(o){if(s){if("_"!==o&&")"!==o)return o}else if("_"!==o)return o;return 0===e.length?"":e.shift()}).join("")}(e.split("").filter(function(e){return/\d/.test(e)}))}function t(){var o=e.selectionStart,t=e.selectionEnd;e.value=s(e.value.replace(/7/,"")),e.selectionStart=o,e.selectionEnd=t}e.addEventListener("click",t),e.addEventListener("keyup",t)}addressToggle.addEventListener("click",function(){addressBlock.classList.contains("page-footer__address-block--closed")?(addressBlock.classList.remove("page-footer__address-block--closed"),addressBlock.classList.add("page-footer__address-block--opened"),menuBlock.classList.contains("page-footer__menu-block--opened")&&(menuBlock.classList.add("page-footer__menu-block--closed"),menuBlock.classList.remove("page-footer__menu-block--opened"))):(addressBlock.classList.add("page-footer__address-block--closed"),addressBlock.classList.remove("page-footer__address-block--opened"))}),Array.prototype.forEach.call(document.querySelectorAll("[data-mask]"),applyDataMask);