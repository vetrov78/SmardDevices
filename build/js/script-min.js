"use strict";import jQuery from"./jquery-3.6.0.js";!function(e){console.log(e(".header"));var o=document.querySelector("#callback-popup").content.querySelector(".callback-popup__container"),t=document.querySelector("#call-request-button"),n=!1;t.addEventListener("click",function(){var e;if(!n){var t=o.cloneNode(!0);document.body.classList.add("body-no-scroll"),document.body.appendChild(t),t.querySelector("#popup-name").focus(),s(t.querySelector("[data-mask]"));var r=document.querySelector(".callback-popup__close-button");n=!0,window.addEventListener("click",function(e){e.path.some(function(e){return"string"==typeof e.className&&(e.className.includes("callback-popup__container")||e.id.includes("call-request-button"))})||i(e)});var c=Array.from(document.querySelectorAll(".callback-popup__container *"));e=document.querySelectorAll('body *:not([tabindex="-1"]');for(var a=0;a<e.length;a++){var l=e[a];c.includes(l)||l===t||(l._prevTabindex=l.getAttribute("tabindex"),l.setAttribute("tabindex",-1),l.style.pointerEvents="none",l.style.outline="none")}}var d=function(e){(function(e){return"Escape"===e.key||"Esc"===e.key})(e)&&i(e)},i=function(o){for(o.preventDefault(),t.remove(),document.body.classList.remove("body-no-scroll"),a=0;a<e.length;a++)(l=e[a])._prevTabindex?(l.setAttribute("tabindex",l._prevTabindex),l._prevTabindex=null):l.removeAttribute("tabindex"),l.style.pointerEvents="auto",l.style.outline=null;document.removeEventListener("keydown",d),r.removeEventListener("click",i),n=!1};document.addEventListener("keydown",d),r.addEventListener("click",i)}),document.querySelector(".page-footer__menu-address-wrapper").classList.remove("no-js");var r=document.querySelector(".page-footer__menu-block");r.classList.add("page-footer__menu-block--closed");var c=document.querySelector(".page-footer__address-block");function s(e){var o=e.dataset.mask.split("");function t(e){return function(e){var t=e.length<3;return o.map(function(o){if(t){if("_"!==o&&")"!==o)return o}else if("_"!==o)return o;return 0===e.length?"":e.shift()}).join("")}(e.split("").filter(function(e){return/\d/.test(e)}))}function n(){var o=e.selectionStart,n=e.selectionEnd;e.value=t(e.value.replace(/7/,"")),e.selectionStart=o,e.selectionEnd=n}e.addEventListener("click",n),e.addEventListener("keyup",n)}c.classList.add("page-footer__address-block--closed"),document.querySelector(".page-footer__header--menu").addEventListener("click",function(){r.classList.contains("page-footer__menu-block--closed")?(r.classList.remove("page-footer__menu-block--closed"),r.classList.add("page-footer__menu-block--opened"),c.classList.contains("page-footer__address-block--opened")&&(c.classList.add("page-footer__address-block--closed"),c.classList.remove("page-footer__address-block--opened"))):(r.classList.add("page-footer__menu-block--closed"),r.classList.remove("page-footer__menu-block--opened"))}),document.querySelector(".page-footer__header--address").addEventListener("click",function(){c.classList.contains("page-footer__address-block--closed")?(c.classList.remove("page-footer__address-block--closed"),c.classList.add("page-footer__address-block--opened"),r.classList.contains("page-footer__menu-block--opened")&&(r.classList.add("page-footer__menu-block--closed"),r.classList.remove("page-footer__menu-block--opened"))):(c.classList.add("page-footer__address-block--closed"),c.classList.remove("page-footer__address-block--opened"))}),Array.prototype.forEach.call(document.querySelectorAll("[data-mask]"),s),document.querySelector(".page-header__promo-button").addEventListener("click",function(){window.location.href="#form"})}(jQuery);